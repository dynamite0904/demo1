import{S as v,r as u,t as V,v as t,n as k,B as e,U as E,bN as U,W as x}from"./index-Cri_HRKV.js";import{E as y,a as w}from"./el-form-item-DtewV-5p.js";import{E as B}from"./_plugin-vue_export-helper-D5PTBCD6.js";import{E as S}from"./el-input-CGJVTIfD.js";import{_ as F}from"./PageContainer-B49UBuJn.js";import"./el-message-DyJ5fjsb.js";const W={__name:"UserProfile",setup(I){const{user:{email:s,id:i,nickname:p,username:d},getUser:f}=v(),l=u({id:i,username:d,nickname:p,email:s}),_={nickname:[{required:!0,message:"用户昵称不能为空",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在2~10个非空字符之间",trigger:"blur"}],email:[{required:!0,message:"用户邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入有效的邮箱地址",trigger:["blur","change"]}]},n=u(),c=async()=>{await n.value.validate(),await U(l.value),f(),x.success("修改成功")};return(N,a)=>{const m=S,o=y,g=B,b=w;return k(),V(F,{title:"基本资料"},{default:t(()=>[e(b,{model:l.value,rules:_,ref_key:"formRef",ref:n,"label-width":"120px"},{default:t(()=>[e(o,{label:"登录名称",prop:"username"},{default:t(()=>[e(m,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=r=>l.value.username=r),disabled:""},null,8,["modelValue"])]),_:1}),e(o,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(m,{modelValue:l.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=r=>l.value.nickname=r)},null,8,["modelValue"])]),_:1}),e(o,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(m,{modelValue:l.value.email,"onUpdate:modelValue":a[2]||(a[2]=r=>l.value.email=r)},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(g,{type:"primary",onClick:c},{default:t(()=>a[3]||(a[3]=[E("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{W as default};
